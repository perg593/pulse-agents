function Question(e){this.id=e.id,this.answers=e.answers,this.question=this.getPulseQuestion(this.id),this.dependents=this.getDependents(),this.dependentQuestions=this.getSubUnits(),this.subUnits=this.getSubUnits(),this.attachEvents()}window.localizeSelects=function(e){for(var t=document.querySelectorAll("#_pi_surveyWidget select option[disabled]"),s=0;s<t.length;s++)t[s].innerHTML=e},window.localizeCharCounts=function(){for(var e=function(e,t,s){s.innerHTML=t+"/"+e},t=document.querySelectorAll("._pi_free_text_question_field"),s,n,i,o=0;o<t.length;o++){s=(i=t[o]).nextSibling,n=s.getAttribute("data-max-length"),i.setAttribute("maxLength",n),s.style.setProperty("display","none");var r=document.createElement("div");r.setAttribute("class","_pi_free_text_question_characters_count"),i.parentNode.append(r),i.addEventListener("keyup",(function(){e(n,i.value.length,r)})),i.addEventListener("keypress",(function(){e(n,i.value.length,r)}))}},Array.prototype.unique=function(){for(var e=this.concat(),t=0;t<e.length;++t)for(var s=t+1;s<e.length;++s)e[t]===e[s]&&e.splice(s--,1);return e},Question.prototype.getSubUnits=function(){for(var e=function(e,t){var s=e.previousElementSibling;if(!t)return s;for(;s;){if(s.classList.contains(t))return s;s=s.previousElementSibling}},t=function(e,t){for(var s=e.nextElementSibling;s;){if(s.classList.contains(t))return s;s=s.nextElementSibling}},s={},n,i=0;i<this.dependents.length;i++)s[this.dependents[i]]=this.getPulseQuestion(this.dependents[i]),n=PulseInsightsObject.survey.widgetContainer.querySelector('._pi_answers_container[data-question-id="'+s[this.dependents[i]].id+'"]'),s[this.dependents[i]].baseEl=n,s[this.dependents[i]].questionEl=e(n,"_pi_question"),"0"!=s[this.dependents[i]].after_answers_count&&null!=s[this.dependents[i]].after_answers_items&1===s[this.dependents[i]].button_type&&"single_choice_question"==s[this.dependents[i]].question_type?s[this.dependents[i]].afterAnswersEl=t(n,"_pi_scale_container_after"):s[this.dependents[i]].afterAnswersEl=null,"0"!=s[this.dependents[i]].before_answers_count&&null!=s[this.dependents[i]].before_answers_items&1===s[this.dependents[i]].button_type&&"single_choice_question"==s[this.dependents[i]].question_type?s[this.dependents[i]].beforeAnswersEl=e(n,"_pi_scale_container_before"):s[this.dependents[i]].beforeAnswersEl=null,""!=s[this.dependents[i]].before_question_text&&null!==s[this.dependents[i]].before_question_text&&1===s[this.dependents[i]].button_type&&"single_choice_question"==s[this.dependents[i]].question_type?s[this.dependents[i]].beforeQuestionEl=e(n,"pi_header_before"):s[this.dependents[i]].beforeQuestionEl=null,""!=s[this.dependents[i]].after_question_text&&null!==s[this.dependents[i]].after_question_text&&1===s[this.dependents[i]].button_type&&"single_choice_question"==s[this.dependents[i]].question_type?s[this.dependents[i]].afterQuestionEl=e(n,"pi_header_after"):s[this.dependents[i]].afterQuestionEl=null;return s},Question.prototype.attachEvents=function(){if("single_choice_question"==this.question.question_type){if(0===this.question.button_type||1===this.question.button_type)for(var e=document.querySelectorAll('._pi_answers_container[data-question-id="'+this.question.id+'"] li a'),t=0;t<e.length;t++){var s=e[t].getAttribute("data-answer-id");if(void 0!==this.answers[s]){var n=this.answers[s];e[t].addEventListener("click",function(){this.showQuestions(n)}.bind(this))}else e[t].addEventListener("click",function(){this.hideQuestions()}.bind(this))}else if(2===this.question.button_type){var i=document.querySelector('._pi_answers_container[data-question-id="'+this.question.id+'"] select._pi_select');i.addEventListener("change",function(){void 0!==this.answers[i.value]?this.showQuestions(this.answers[i.value]):this.hideQuestions()}.bind(this))}}else if("multiple_choices_question"==this.question.question_type)for(var o=document.querySelector('._pi_answers_container[data-question-id="'+this.question.id+'"]'),e=o.querySelectorAll("li label"),r,t=0;t<e.length;t++)e[t].addEventListener("click",(function(){r=Object.keys(this.answers);for(var e=0;e<r.length;e++)-1!==o.getAttribute("data-answer").indexOf(r[e])?this.showQuestions(this.answers[r[e]]):this.hideQuestions()})).bind(this)},Question.prototype.getPulseQuestion=function(e){for(var t=0;t<PulseInsightsObject.survey.questions.length;t++)if(PulseInsightsObject.survey.questions[t].id===e)return PulseInsightsObject.survey.questions[t]},Question.prototype.getDependents=function(){for(var e=[],t=Object.keys(this.answers),s=0;s<t.length;s++)e=e.concat(this.answers[t[s]]).unique();return e},Question.prototype.showQuestions=function(e){this.hideQuestions();for(var t=0;t<e.length;t++)this.subUnits[e[t]].questionEl.style.setProperty("display","flex","important"),this.subUnits[e[t]].baseEl.style.setProperty("display","flex","important"),null!=this.subUnits[e[t]].afterAnswersEl&&this.subUnits[e[t]].afterAnswersEl.style.setProperty("display","flex","important"),null!=this.subUnits[e[t]].beforeAnswersEl&&this.subUnits[e[t]].beforeAnswersEl.style.setProperty("display","flex","important"),null!=this.subUnits[e[t]].beforeQuestionEl&&this.subUnits[e[t]].beforeQuestionEl.style.setProperty("display","block","important"),null!=this.subUnits[e[t]].afterQuestionEl&&this.subUnits[e[t]].afterQuestionEl.style.setProperty("display","block","important")},Question.prototype.hideQuestions=function(){for(var e=Object.keys(this.answers),t=0;t<e.length;t++)for(var s=0;s<this.answers[e[t]].length;s++)this.subUnits[this.answers[e[t]][s]].questionEl.style.setProperty("display","none","important"),this.subUnits[this.answers[e[t]][s]].baseEl.style.setProperty("display","none","important"),null!=this.subUnits[this.answers[e[t]][s]].afterAnswersEl&&this.subUnits[this.answers[e[t]][s]].afterAnswersEl.style.setProperty("display","none","important"),null!=this.subUnits[this.answers[e[t]][s]].beforeAnswersEl&&this.subUnits[this.answers[e[t]][s]].beforeAnswersEl.style.setProperty("display","none","important"),null!=this.subUnits[this.answers[e[t]][s]].beforeQuestionEl&&this.subUnits[this.answers[e[t]][s]].beforeQuestionEl.style.setProperty("display","none","important"),null!=this.subUnits[this.answers[e[t]][s]].afterQuestionEl&&this.subUnits[this.answers[e[t]][s]].afterQuestionEl.style.setProperty("display","none","important")},window.qList=[];for(var i=0;i<conditionalConfig.length;i++)window.qList[i]=new Question(conditionalConfig[i]),window.qList[i].hideQuestions();