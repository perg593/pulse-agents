## 2. Product UX

### 2.1 Default Flow: “URL → 4 Themes”

The primary user journey:

1. **Create a Theme Project**

   * Enter URL
   * Choose number of pages to analyze (default 3)
   * Click “Analyze & Generate Themes”

2. **Analysis**

   * A backend analyzer:

     * Loads the specified pages.
     * Extracts:

       * Colors (from CSS variables & computed styles)
       * Typography (font families, sizes, headings vs body)
       * Basic component styles (buttons, links, inputs)
     * Produces a **Site Snapshot** (see 3.2)
     * Converts the Site Snapshot into **4 Theme Tokens**:

       * Brand Faithful
       * Light
       * Dark
       * Minimal

3. **Themes View**

   * Shows 4 theme cards:

     * Thumbnail preview
     * Name
     * Actions:

       * “Open in Editor”
       * “Copy CSS for Pulse”
       * “Duplicate theme”

4. **Preview**

   * For any theme:

     * Preview panel shows:

       * Fake Pulse survey HTML:

         * Question title
         * Description
         * Single-choice options
         * Slider
         * Free-text input
         * Submit button
     * Viewport toggles:

       * Desktop
       * Tablet (optional)
       * Mobile (essential)
     * Theme CSS is applied to this preview.

5. **Export**

   * “Copy CSS for Pulse console”
   * Optional: “Download theme bundle” (tokens + SCSS + CSS)

---

### 2.2 Theme Editor (Customization Interface)

Per theme, the editor provides:

* **Left panel**: Token categories

  * Palette
  * Typography
  * Components (Single-choice, Buttons, Slider, Inputs)
  * Spacing / Radii (advanced)

* **Center panel**: Live preview

  * Uses the same fake Pulse HTML.
  * Desktop/mobile toggles.

* **Right panel**: Inspector

  * When clicking on a part of the preview (e.g. single-choice button):

    * Shows which tokens drive it.
  * Editing those tokens updates:

    * Preview
    * Theme Tokens object
    * Under-the-hood CSS (via SCSS template)

Advanced options (hidden by default):

* Spacing scale adjustments (padding, gaps).
* Letter-spacing for headings/buttons.
* Per-component radii.

---

### 2.3 Mobile & Tablet Previews

Viewports:

* Desktop: e.g. width 1280
* Tablet: width ~768–1024
* Mobile: width ~375–430

Each viewport:

* Renders the same Pulse widget markup.
* Applies the same CSS.
* Allows evaluation of:

  * Text size
  * Spacing
  * Tap targets
  * Contrast and readability

Mobile is **non-negotiable priority**. Tablet is nice-to-have but should be considered.

---

### 2.4 Fonts & Custom Font Handling

Key requirement: Many clients have custom fonts (e.g. `VisaBold`).

The app should:

1. **Auto-detect fonts from the site**:

   * Parse loaded CSS for:

     * `@font-face` rules.
     * Remote font CSS (Google Fonts, Adobe, or client-hosted).
   * Detect which font families are used for:

     * Headings
     * Body text
     * Buttons

2. **Use these fonts in preview where possible**:

   * Apply the same `font-family` in Theme Tokens.
   * For web-accessible fonts (public URLs), load them into the preview via `<link>` or inline `@font-face`.

3. **Provide manual overrides**:

   * In the typography section:

     * Let user edit `fontFamilyBase` and `fontFamilyHeading`.
     * Provide fallbacks (e.g. `VisaBold, system-ui, sans-serif`).

Licensing note: font files are not re-distributed. The app should load them from existing client-hosted URLs or public CDNs when possible.