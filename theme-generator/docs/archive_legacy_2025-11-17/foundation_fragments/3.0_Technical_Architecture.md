## 3. Technical Architecture (High-Level)

This is intentionally tool-agnostic on specifics. Cursor will handle the exact frameworks and wiring.

### 3.1 Major Components

1. **Front-end UI**

   * React-based (or similar) single-page app.
   * Responsibilities:

     * Project list and details
     * URL input + “Analyze” trigger
     * Theme cards view (4 variants)
     * Theme editor
     * Viewport preview (desktop/mobile)
     * Style guide view

2. **Theme Engine**

   * Core logic (likely a shared library/module):

     * Theme Tokens model.
     * Mapping between Theme Tokens and SCSS variables.
     * SCSS template integration.
     * SCSS → CSS compilation.
   * Should be reusable by:

     * UI in dev.
     * CLI or backend jobs in future.

3. **Analyzer Backend**

   * Service that:

     * Given URL + page count:

       * Crawls pages (using Playwright/Puppeteer or similar).
       * Extracts:

         * Colors
         * Fonts
         * Basic component styles
       * Builds a **Site Snapshot** (structured).
       * Converts it into 4 Theme Tokens (via Theme Engine).
   * Can start as a simple Node script run manually or via dev server.
   * Later can become:

     * A service on GCP Cloud Run or AWS Lambda.

4. **Storage**

   * For v1:

     * Simple storage (e.g. JSON in local dev).
   * Later:

     * Database or cloud storage:

       * `Theme Projects`
       * `Themes`
       * `Site Snapshots`

---

### 3.2 Site Snapshot (Conceptual)

The Analyzer produces a **Site Snapshot** that contains:

* **Colors**

  * Candidate brand colors
  * Background colors
  * Text colors
  * Semantic hints (e.g. button background, link color)

* **Typography**

  * Font families used for headings and body.
  * Approximate sizes and weights.

* **Component Patterns (Lightweight)**

  * Buttons:

    * Background, text, border colors
    * Hover/active hints (if discoverable)
  * Inputs:

    * Background, border, placeholder colors.
  * Links:

    * Default and hover colors.

* **Meta**

  * URLs crawled
  * Confidence scores for some choices

The Theme Engine takes this snapshot and emits 4 Theme Tokens:

* `Brand Faithful`: stays as close as possible, with contrast fixes.
* `Light`: lighter surfaces, safe contrast, brand as accent.
* `Dark`: dark surfaces, brand color as main highlight.
* `Minimal`: neutral, high clarity, brand color limited.