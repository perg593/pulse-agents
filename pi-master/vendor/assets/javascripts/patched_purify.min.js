"use strict";

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */
// Commenting out the module definement for RequireJS to avoid an anonymous module issue desribed in https://gitlab.ekohe.com/ekohe/pulseinsights/pi/-/issues/2403
!function (e, t) {
  "object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) && "undefined" != typeof module ? module.exports = t() : /*"function"==typeof define&&define.amd?define(t):*/(e = "undefined" != typeof globalThis ? globalThis : e || self).DOMPurify = t();
}(undefined, function () {
  "use strict";
  var e = Object.entries,
      t = Object.setPrototypeOf,
      n = Object.isFrozen,
      o = Object.getPrototypeOf,
      r = Object.getOwnPropertyDescriptor;

  var i = Object.freeze,
      a = Object.seal,
      l = Object.create,
      _ref = "undefined" != typeof Reflect && Reflect,
      c = _ref.apply,
      s = _ref.construct;

  i || (i = function i(e) {
    return e;
  }), a || (a = function a(e) {
    return e;
  }), c || (c = function c(e, t, n) {
    return e.apply(t, n);
  }), s || (s = function s(e, t) {
    return new (Function.prototype.bind.apply(e, [null].concat(_toConsumableArray(t))))();
  });var u = R(Array.prototype.forEach),
      m = R(Array.prototype.lastIndexOf),
      p = R(Array.prototype.pop),
      f = R(Array.prototype.push),
      d = R(Array.prototype.splice),
      h = R(String.prototype.toLowerCase),
      g = R(String.prototype.toString),
      T = R(String.prototype.match),
      y = R(String.prototype.replace),
      E = R(String.prototype.indexOf),
      A = R(String.prototype.trim),
      _ = R(Object.prototype.hasOwnProperty),
      S = R(RegExp.prototype.test),
      b = (N = TypeError, function () {
    for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) {
      t[n] = arguments[n];
    }return s(N, t);
  });var N;function R(e) {
    return function (t) {
      t instanceof RegExp && (t.lastIndex = 0);for (var n = arguments.length, o = new Array(n > 1 ? n - 1 : 0), r = 1; r < n; r++) {
        o[r - 1] = arguments[r];
      }return c(e, t, o);
    };
  }function w(e, o) {
    var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : h;t && t(e, null);var i = o.length;for (; i--;) {
      var _t2 = o[i];if ("string" == typeof _t2) {
        var _e2 = r(_t2);_e2 !== _t2 && (n(o) || (o[i] = _e2), _t2 = _e2);
      }e[_t2] = !0;
    }return e;
  }function O(e) {
    for (var _t3 = 0; _t3 < e.length; _t3++) {
      _(e, _t3) || (e[_t3] = null);
    }return e;
  }function D(t) {
    var n = l(null);var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = e(t)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var _ref2 = _step.value;

        var _ref3 = _slicedToArray(_ref2, 2);

        var _o = _ref3[0];
        var _r = _ref3[1];
        _(t, _o) && (Array.isArray(_r) ? n[_o] = O(_r) : _r && "object" == (typeof _r === "undefined" ? "undefined" : _typeof(_r)) && _r.constructor === Object ? n[_o] = D(_r) : n[_o] = _r);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    return n;
  }function v(e, t) {
    for (; null !== e;) {
      var _n = r(e, t);if (_n) {
        if (_n.get) return R(_n.get);if ("function" == typeof _n.value) return R(_n.value);
      }e = o(e);
    }return function () {
      return null;
    };
  }var L = i(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dialog", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"]),
      C = i(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern"]),
      x = i(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feDropShadow", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"]),
      I = i(["animate", "color-profile", "cursor", "discard", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignobject", "hatch", "hatchpath", "mesh", "meshgradient", "meshpatch", "meshrow", "missing-glyph", "script", "set", "solidcolor", "unknown", "use"]),
      M = i(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover", "mprescripts"]),
      k = i(["maction", "maligngroup", "malignmark", "mlongdiv", "mscarries", "mscarry", "msgroup", "mstack", "msline", "msrow", "semantics", "annotation", "annotation-xml", "mprescripts", "none"]),
      U = i(["#text"]),
      z = i(["accept", "action", "align", "alt", "autocapitalize", "autocomplete", "autopictureinpicture", "autoplay", "background", "bgcolor", "border", "capture", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "controls", "controlslist", "coords", "crossorigin", "datetime", "decoding", "default", "dir", "disabled", "disablepictureinpicture", "disableremoteplayback", "download", "draggable", "enctype", "enterkeyhint", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "inputmode", "integrity", "ismap", "kind", "label", "lang", "list", "loading", "loop", "low", "max", "maxlength", "media", "method", "min", "minlength", "multiple", "muted", "name", "nonce", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "playsinline", "popover", "popovertarget", "popovertargetaction", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "translate", "type", "usemap", "valign", "value", "width", "wrap", "xmlns", "slot"]),
      P = i(["accent-height", "accumulate", "additive", "alignment-baseline", "amplitude", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "exponent", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "intercept", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "slope", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "tablevalues", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"]),
      H = i(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "encoding", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"]),
      F = i(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"]),
      B = a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),
      W = a(/<%[\w\W]*|[\w\W]*%>/gm),
      G = a(/\$\{[\w\W]*/gm),
      Y = a(/^data-[\-\w.\u00B7-\uFFFF]+$/),
      j = a(/^aria-[\-\w]+$/),
      X = a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),
      q = a(/^(?:\w+script|data):/i),
      $ = a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),
      K = a(/^html$/i),
      V = a(/^[a-z][.\w]*(-[.\w]+)+$/i);var Z = Object.freeze({ __proto__: null, ARIA_ATTR: j, ATTR_WHITESPACE: $, CUSTOM_ELEMENT: V, DATA_ATTR: Y, DOCTYPE_NAME: K, ERB_EXPR: W, IS_ALLOWED_URI: X, IS_SCRIPT_OR_DATA: q, MUSTACHE_EXPR: B, TMPLIT_EXPR: G });var J = 1,
      Q = 3,
      ee = 7,
      te = 8,
      ne = 9,
      oe = function oe() {
    return "undefined" == typeof window ? null : window;
  };var re = function t() {
    var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : oe();var o = function o(e) {
      return t(e);
    };if (o.version = "3.2.6", o.removed = [], !n || !n.document || n.document.nodeType !== ne || !n.Element) return o.isSupported = !1, o;var r = n.document;
    var a = r,
        c = a.currentScript,
        s = n.DocumentFragment,
        N = n.HTMLTemplateElement,
        R = n.Node,
        O = n.Element,
        B = n.NodeFilter,
        _n$NamedNodeMap = n.NamedNodeMap,
        W = _n$NamedNodeMap === undefined ? n.NamedNodeMap || n.MozNamedAttrMap : _n$NamedNodeMap,
        G = n.HTMLFormElement,
        Y = n.DOMParser,
        j = n.trustedTypes,
        q = O.prototype,
        $ = v(q, "cloneNode"),
        V = v(q, "remove"),
        re = v(q, "nextSibling"),
        ie = v(q, "childNodes"),
        ae = v(q, "parentNode");if ("function" == typeof N) {
      var _e3 = r.createElement("template");_e3.content && _e3.content.ownerDocument && (r = _e3.content.ownerDocument);
    }var le = void 0,
        ce = "";var _r2 = r,
        se = _r2.implementation,
        ue = _r2.createNodeIterator,
        me = _r2.createDocumentFragment,
        pe = _r2.getElementsByTagName,
        fe = a.importNode;
    var de = { afterSanitizeAttributes: [], afterSanitizeElements: [], afterSanitizeShadowDOM: [], beforeSanitizeAttributes: [], beforeSanitizeElements: [], beforeSanitizeShadowDOM: [], uponSanitizeAttribute: [], uponSanitizeElement: [], uponSanitizeShadowNode: [] };o.isSupported = "function" == typeof e && "function" == typeof ae && se && void 0 !== se.createHTMLDocument;var he = Z.MUSTACHE_EXPR,
        ge = Z.ERB_EXPR,
        Te = Z.TMPLIT_EXPR,
        ye = Z.DATA_ATTR,
        Ee = Z.ARIA_ATTR,
        Ae = Z.IS_SCRIPT_OR_DATA,
        _e = Z.ATTR_WHITESPACE,
        Se = Z.CUSTOM_ELEMENT;
    var be = Z.IS_ALLOWED_URI,
        Ne = null;var Re = w({}, [].concat(_toConsumableArray(L), _toConsumableArray(C), _toConsumableArray(x), _toConsumableArray(M), _toConsumableArray(U)));var we = null;var Oe = w({}, [].concat(_toConsumableArray(z), _toConsumableArray(P), _toConsumableArray(H), _toConsumableArray(F)));var De = Object.seal(l(null, { tagNameCheck: { writable: !0, configurable: !1, enumerable: !0, value: null }, attributeNameCheck: { writable: !0, configurable: !1, enumerable: !0, value: null }, allowCustomizedBuiltInElements: { writable: !0, configurable: !1, enumerable: !0, value: !1 } })),
        ve = null,
        Le = null,
        Ce = !0,
        xe = !0,
        Ie = !1,
        Me = !0,
        ke = !1,
        Ue = !0,
        ze = !1,
        Pe = !1,
        He = !1,
        Fe = !1,
        Be = !1,
        We = !1,
        Ge = !0,
        Ye = !1,
        je = !0,
        Xe = !1,
        qe = {},
        $e = null;var Ke = w({}, ["annotation-xml", "audio", "colgroup", "desc", "foreignobject", "head", "iframe", "math", "mi", "mn", "mo", "ms", "mtext", "noembed", "noframes", "noscript", "plaintext", "script", "style", "svg", "template", "thead", "title", "video", "xmp"]);var Ve = null;var Ze = w({}, ["audio", "video", "img", "source", "image", "track"]);var Je = null;var Qe = w({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "role", "summary", "title", "value", "style", "xmlns"]),
        et = "http://www.w3.org/1998/Math/MathML",
        tt = "http://www.w3.org/2000/svg",
        nt = "http://www.w3.org/1999/xhtml";var ot = nt,
        rt = !1,
        it = null;var at = w({}, [et, tt, nt], g);var lt = w({}, ["mi", "mo", "mn", "ms", "mtext"]),
        ct = w({}, ["annotation-xml"]);var st = w({}, ["title", "style", "font", "a", "script"]);var ut = null;var mt = ["application/xhtml+xml", "text/html"];var pt = null,
        ft = null;var dt = r.createElement("form"),
        ht = function ht(e) {
      return e instanceof RegExp || e instanceof Function;
    },
        gt = function gt() {
      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};if (!ft || ft !== e) {
        if (e && "object" == (typeof e === "undefined" ? "undefined" : _typeof(e)) || (e = {}), e = D(e), ut = -1 === mt.indexOf(e.PARSER_MEDIA_TYPE) ? "text/html" : e.PARSER_MEDIA_TYPE, pt = "application/xhtml+xml" === ut ? g : h, Ne = _(e, "ALLOWED_TAGS") ? w({}, e.ALLOWED_TAGS, pt) : Re, we = _(e, "ALLOWED_ATTR") ? w({}, e.ALLOWED_ATTR, pt) : Oe, it = _(e, "ALLOWED_NAMESPACES") ? w({}, e.ALLOWED_NAMESPACES, g) : at, Je = _(e, "ADD_URI_SAFE_ATTR") ? w(D(Qe), e.ADD_URI_SAFE_ATTR, pt) : Qe, Ve = _(e, "ADD_DATA_URI_TAGS") ? w(D(Ze), e.ADD_DATA_URI_TAGS, pt) : Ze, $e = _(e, "FORBID_CONTENTS") ? w({}, e.FORBID_CONTENTS, pt) : Ke, ve = _(e, "FORBID_TAGS") ? w({}, e.FORBID_TAGS, pt) : D({}), Le = _(e, "FORBID_ATTR") ? w({}, e.FORBID_ATTR, pt) : D({}), qe = !!_(e, "USE_PROFILES") && e.USE_PROFILES, Ce = !1 !== e.ALLOW_ARIA_ATTR, xe = !1 !== e.ALLOW_DATA_ATTR, Ie = e.ALLOW_UNKNOWN_PROTOCOLS || !1, Me = !1 !== e.ALLOW_SELF_CLOSE_IN_ATTR, ke = e.SAFE_FOR_TEMPLATES || !1, Ue = !1 !== e.SAFE_FOR_XML, ze = e.WHOLE_DOCUMENT || !1, Fe = e.RETURN_DOM || !1, Be = e.RETURN_DOM_FRAGMENT || !1, We = e.RETURN_TRUSTED_TYPE || !1, He = e.FORCE_BODY || !1, Ge = !1 !== e.SANITIZE_DOM, Ye = e.SANITIZE_NAMED_PROPS || !1, je = !1 !== e.KEEP_CONTENT, Xe = e.IN_PLACE || !1, be = e.ALLOWED_URI_REGEXP || X, ot = e.NAMESPACE || nt, lt = e.MATHML_TEXT_INTEGRATION_POINTS || lt, ct = e.HTML_INTEGRATION_POINTS || ct, De = e.CUSTOM_ELEMENT_HANDLING || {}, e.CUSTOM_ELEMENT_HANDLING && ht(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck) && (De.tagNameCheck = e.CUSTOM_ELEMENT_HANDLING.tagNameCheck), e.CUSTOM_ELEMENT_HANDLING && ht(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) && (De.attributeNameCheck = e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck), e.CUSTOM_ELEMENT_HANDLING && "boolean" == typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (De.allowCustomizedBuiltInElements = e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements), ke && (xe = !1), Be && (Fe = !0), qe && (Ne = w({}, U), we = [], !0 === qe.html && (w(Ne, L), w(we, z)), !0 === qe.svg && (w(Ne, C), w(we, P), w(we, F)), !0 === qe.svgFilters && (w(Ne, x), w(we, P), w(we, F)), !0 === qe.mathMl && (w(Ne, M), w(we, H), w(we, F))), e.ADD_TAGS && (Ne === Re && (Ne = D(Ne)), w(Ne, e.ADD_TAGS, pt)), e.ADD_ATTR && (we === Oe && (we = D(we)), w(we, e.ADD_ATTR, pt)), e.ADD_URI_SAFE_ATTR && w(Je, e.ADD_URI_SAFE_ATTR, pt), e.FORBID_CONTENTS && ($e === Ke && ($e = D($e)), w($e, e.FORBID_CONTENTS, pt)), je && (Ne["#text"] = !0), ze && w(Ne, ["html", "head", "body"]), Ne.table && (w(Ne, ["tbody"]), delete ve.tbody), e.TRUSTED_TYPES_POLICY) {
          if ("function" != typeof e.TRUSTED_TYPES_POLICY.createHTML) throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if ("function" != typeof e.TRUSTED_TYPES_POLICY.createScriptURL) throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');le = e.TRUSTED_TYPES_POLICY, ce = le.createHTML("");
        } else void 0 === le && (le = function (e, t) {
          if ("object" != (typeof e === "undefined" ? "undefined" : _typeof(e)) || "function" != typeof e.createPolicy) return null;var n = null;var o = "data-tt-policy-suffix";t && t.hasAttribute(o) && (n = t.getAttribute(o));var r = "dompurify" + (n ? "#" + n : "");try {
            return e.createPolicy(r, { createHTML: function createHTML(e) {
                return e;
              }, createScriptURL: function createScriptURL(e) {
                return e;
              } });
          } catch (e) {
            return console.warn("TrustedTypes policy " + r + " could not be created."), null;
          }
        }(j, c)), null !== le && "string" == typeof ce && (ce = le.createHTML(""));i && i(e), ft = e;
      }
    },
        Tt = w({}, [].concat(_toConsumableArray(C), _toConsumableArray(x), _toConsumableArray(I))),
        yt = w({}, [].concat(_toConsumableArray(M), _toConsumableArray(k))),
        Et = function Et(e) {
      f(o.removed, { element: e });try {
        ae(e).removeChild(e);
      } catch (t) {
        V(e);
      }
    },
        At = function At(e, t) {
      try {
        f(o.removed, { attribute: t.getAttributeNode(e), from: t });
      } catch (e) {
        f(o.removed, { attribute: null, from: t });
      }if (t.removeAttribute(e), "is" === e) if (Fe || Be) try {
        Et(t);
      } catch (e) {} else try {
        t.setAttribute(e, "");
      } catch (e) {}
    },
        _t = function _t(e) {
      var t = null,
          n = null;if (He) e = "<remove></remove>" + e;else {
        var _t4 = T(e, /^[\r\n\t ]+/);n = _t4 && _t4[0];
      }"application/xhtml+xml" === ut && ot === nt && (e = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + e + "</body></html>");var o = le ? le.createHTML(e) : e;if (ot === nt) try {
        t = new Y().parseFromString(o, ut);
      } catch (e) {}if (!t || !t.documentElement) {
        t = se.createDocument(ot, "template", null);try {
          t.documentElement.innerHTML = rt ? ce : o;
        } catch (e) {}
      }var i = t.body || t.documentElement;return e && n && i.insertBefore(r.createTextNode(n), i.childNodes[0] || null), ot === nt ? pe.call(t, ze ? "html" : "body")[0] : ze ? t.documentElement : i;
    },
        St = function St(e) {
      return ue.call(e.ownerDocument || e, e, B.SHOW_ELEMENT | B.SHOW_COMMENT | B.SHOW_TEXT | B.SHOW_PROCESSING_INSTRUCTION | B.SHOW_CDATA_SECTION, null);
    },
        bt = function bt(e) {
      return e instanceof G && ("string" != typeof e.nodeName || "string" != typeof e.textContent || "function" != typeof e.removeChild || !(e.attributes instanceof W) || "function" != typeof e.removeAttribute || "function" != typeof e.setAttribute || "string" != typeof e.namespaceURI || "function" != typeof e.insertBefore || "function" != typeof e.hasChildNodes);
    },
        Nt = function Nt(e) {
      return "function" == typeof R && e instanceof R;
    };function Rt(e, t, n) {
      u(e, function (e) {
        e.call(o, t, n, ft);
      });
    }var wt = function wt(e) {
      var t = null;if (Rt(de.beforeSanitizeElements, e, null), bt(e)) return Et(e), !0;var n = pt(e.nodeName);if (Rt(de.uponSanitizeElement, e, { tagName: n, allowedTags: Ne }), Ue && e.hasChildNodes() && !Nt(e.firstElementChild) && S(/<[/\w!]/g, e.innerHTML) && S(/<[/\w!]/g, e.textContent)) return Et(e), !0;if (e.nodeType === ee) return Et(e), !0;if (Ue && e.nodeType === te && S(/<[/\w]/g, e.data)) return Et(e), !0;if (!Ne[n] || ve[n]) {
        if (!ve[n] && Dt(n)) {
          if (De.tagNameCheck instanceof RegExp && S(De.tagNameCheck, n)) return !1;if (De.tagNameCheck instanceof Function && De.tagNameCheck(n)) return !1;
        }if (je && !$e[n]) {
          var _t5 = ae(e) || e.parentNode,
              _n2 = ie(e) || e.childNodes;if (_n2 && _t5) {
            for (var _o2 = _n2.length - 1; _o2 >= 0; --_o2) {
              var _r3 = $(_n2[_o2], !0);_r3.__removalCount = (e.__removalCount || 0) + 1, _t5.insertBefore(_r3, re(e));
            }
          }
        }return Et(e), !0;
      }return e instanceof O && !function (e) {
        var t = ae(e);t && t.tagName || (t = { namespaceURI: ot, tagName: "template" });var n = h(e.tagName),
            o = h(t.tagName);return !!it[e.namespaceURI] && (e.namespaceURI === tt ? t.namespaceURI === nt ? "svg" === n : t.namespaceURI === et ? "svg" === n && ("annotation-xml" === o || lt[o]) : Boolean(Tt[n]) : e.namespaceURI === et ? t.namespaceURI === nt ? "math" === n : t.namespaceURI === tt ? "math" === n && ct[o] : Boolean(yt[n]) : e.namespaceURI === nt ? !(t.namespaceURI === tt && !ct[o]) && !(t.namespaceURI === et && !lt[o]) && !yt[n] && (st[n] || !Tt[n]) : !("application/xhtml+xml" !== ut || !it[e.namespaceURI]));
      }(e) ? (Et(e), !0) : "noscript" !== n && "noembed" !== n && "noframes" !== n || !S(/<\/no(script|embed|frames)/i, e.innerHTML) ? (ke && e.nodeType === Q && (t = e.textContent, u([he, ge, Te], function (e) {
        t = y(t, e, " ");
      }), e.textContent !== t && (f(o.removed, { element: e.cloneNode() }), e.textContent = t)), Rt(de.afterSanitizeElements, e, null), !1) : (Et(e), !0);
    },
        Ot = function Ot(e, t, n) {
      if (Ge && ("id" === t || "name" === t) && (n in r || n in dt)) return !1;if (xe && !Le[t] && S(ye, t)) ;else if (Ce && S(Ee, t)) ;else if (!we[t] || Le[t]) {
        if (!(Dt(e) && (De.tagNameCheck instanceof RegExp && S(De.tagNameCheck, e) || De.tagNameCheck instanceof Function && De.tagNameCheck(e)) && (De.attributeNameCheck instanceof RegExp && S(De.attributeNameCheck, t) || De.attributeNameCheck instanceof Function && De.attributeNameCheck(t)) || "is" === t && De.allowCustomizedBuiltInElements && (De.tagNameCheck instanceof RegExp && S(De.tagNameCheck, n) || De.tagNameCheck instanceof Function && De.tagNameCheck(n)))) return !1;
      } else if (Je[t]) ;else if (S(be, y(n, _e, ""))) ;else if ("src" !== t && "xlink:href" !== t && "href" !== t || "script" === e || 0 !== E(n, "data:") || !Ve[e]) {
        if (Ie && !S(Ae, y(n, _e, ""))) ;else if (n) return !1;
      } else ;return !0;
    },
        Dt = function Dt(e) {
      return "annotation-xml" !== e && T(e, Se);
    },
        vt = function vt(e) {
      Rt(de.beforeSanitizeAttributes, e, null);var t = e.attributes;
      if (!t || bt(e)) return;var n = { attrName: "", attrValue: "", keepAttr: !0, allowedAttributes: we, forceKeepAttr: void 0 };var r = t.length;
      var _loop = function _loop() {
        var i = t[r],
            a = i.name,
            l = i.namespaceURI,
            c = i.value,
            s = pt(a),
            m = c;var f = "value" === a ? m : A(m);if (n.attrName = s, n.attrValue = f, n.keepAttr = !0, n.forceKeepAttr = void 0, Rt(de.uponSanitizeAttribute, e, n), f = n.attrValue, !Ye || "id" !== s && "name" !== s || (At(a, e), f = "user-content-" + f), Ue && S(/((--!?|])>)|<\/(style|title)/i, f)) {
          At(a, e);return "continue";
        }if (n.forceKeepAttr) return "continue";if (!n.keepAttr) {
          At(a, e);return "continue";
        }if (!Me && S(/\/>/i, f)) {
          At(a, e);return "continue";
        }ke && u([he, ge, Te], function (e) {
          f = y(f, e, " ");
        });var d = pt(e.nodeName);if (Ot(d, s, f)) {
          if (le && "object" == (typeof j === "undefined" ? "undefined" : _typeof(j)) && "function" == typeof j.getAttributeType) if (l) ;else switch (j.getAttributeType(d, s)) {case "TrustedHTML":
              f = le.createHTML(f);break;case "TrustedScriptURL":
              f = le.createScriptURL(f);}if (f !== m) try {
            l ? e.setAttributeNS(l, a, f) : e.setAttribute(a, f), bt(e) ? Et(e) : p(o.removed);
          } catch (t) {
            At(a, e);
          }
        } else At(a, e);
      };

      for (; r--;) {
        var _ret = _loop();

        if (_ret === "continue") continue;
      }Rt(de.afterSanitizeAttributes, e, null);
    },
        Lt = function e(t) {
      var n = null;var o = St(t);for (Rt(de.beforeSanitizeShadowDOM, t, null); n = o.nextNode();) {
        Rt(de.uponSanitizeShadowNode, n, null), wt(n), vt(n), n.content instanceof s && e(n.content);
      }Rt(de.afterSanitizeShadowDOM, t, null);
    };return o.sanitize = function (e) {
      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
          n = null,
          r = null,
          i = null,
          l = null;if (rt = !e, rt && (e = "\x3c!--\x3e"), "string" != typeof e && !Nt(e)) {
        if ("function" != typeof e.toString) throw b("toString is not a function");if ("string" != typeof (e = e.toString())) throw b("dirty is not a string, aborting");
      }if (!o.isSupported) return e;if (Pe || gt(t), o.removed = [], "string" == typeof e && (Xe = !1), Xe) {
        if (e.nodeName) {
          var _t6 = pt(e.nodeName);if (!Ne[_t6] || ve[_t6]) throw b("root node is forbidden and cannot be sanitized in-place");
        }
      } else if (e instanceof R) n = _t("\x3c!----\x3e"), r = n.ownerDocument.importNode(e, !0), r.nodeType === J && "BODY" === r.nodeName || "HTML" === r.nodeName ? n = r : n.appendChild(r);else {
        if (!Fe && !ke && !ze && -1 === e.indexOf("<")) return le && We ? le.createHTML(e) : e;if (n = _t(e), !n) return Fe ? null : We ? ce : "";
      }n && He && Et(n.firstChild);var c = St(Xe ? e : n);for (; i = c.nextNode();) {
        wt(i), vt(i), i.content instanceof s && Lt(i.content);
      }if (Xe) return e;if (Fe) {
        if (Be) for (l = me.call(n.ownerDocument); n.firstChild;) {
          l.appendChild(n.firstChild);
        } else l = n;return (we.shadowroot || we.shadowrootmode) && (l = fe.call(a, l, !0)), l;
      }var m = ze ? n.outerHTML : n.innerHTML;return ze && Ne["!doctype"] && n.ownerDocument && n.ownerDocument.doctype && n.ownerDocument.doctype.name && S(K, n.ownerDocument.doctype.name) && (m = "<!DOCTYPE " + n.ownerDocument.doctype.name + ">\n" + m), ke && u([he, ge, Te], function (e) {
        m = y(m, e, " ");
      }), le && We ? le.createHTML(m) : m;
    }, o.setConfig = function () {
      gt(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}), Pe = !0;
    }, o.clearConfig = function () {
      ft = null, Pe = !1;
    }, o.isValidAttribute = function (e, t, n) {
      ft || gt({});var o = pt(e),
          r = pt(t);return Ot(o, r, n);
    }, o.addHook = function (e, t) {
      "function" == typeof t && f(de[e], t);
    }, o.removeHook = function (e, t) {
      if (void 0 !== t) {
        var _n3 = m(de[e], t);return -1 === _n3 ? void 0 : d(de[e], _n3, 1)[0];
      }return p(de[e]);
    }, o.removeHooks = function (e) {
      de[e] = [];
    }, o.removeAllHooks = function () {
      de = { afterSanitizeAttributes: [], afterSanitizeElements: [], afterSanitizeShadowDOM: [], beforeSanitizeAttributes: [], beforeSanitizeElements: [], beforeSanitizeShadowDOM: [], uponSanitizeAttribute: [], uponSanitizeElement: [], uponSanitizeShadowNode: [] };
    }, o;
  }();return re;
});
//# sourceMappingURL=purify.min.js.map
